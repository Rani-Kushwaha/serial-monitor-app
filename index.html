<!DOCTYPE html>
<html>
<head>
  <title>Serial Monitor</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <nav>
    <div class="logo">
      <img src="logo.png" alt="Logo">
    </div>
    <ul class="nav-links">
<<<<<<< HEAD
      <li>
        <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
      </li>
=======
      <li><button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i></button></li>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
    </ul>
  </nav>

  <div class="main-container">
    <div class="left-panel">
      <section class="control-section" id="protocol-section">
        <h3><i class="fas fa-exchange-alt"></i> Protocol Selection</h3>
        <div class="controls">
<<<<<<< HEAD
          <select id="protocol-select" onchange="updateProtocolUI()">
=======
          <select id="protocol-select" onchange="updateProtocolUI()" class="input-field">
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
            <option value="FTP">FTP</option>
            <option value="MQTT">MQTT</option>
            <option value="HTTP">HTTP</option>
          </select>
<<<<<<< HEAD
          <button onclick="setProtocol()"><i class="fas fa-save"></i> Set Protocol</button>
=======
          <button onclick="setProtocol()" class="action-button"><i class="fas fa-save"></i> Set Protocol</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
        </div>
      </section>

      <section class="control-section" id="ftp-section">
        <h3><i class="fas fa-cloud-upload-alt"></i> FTP Configuration</h3>
        <div class="controls">
<<<<<<< HEAD
          <input type="text" id="ftp-host" placeholder="Host (e.g., 13.126.194.224)">
        </div>
        <div class="controls">
          <input type="number" id="ftp-port" placeholder="Port (default 21, or 22 for SFTP/FTPS)" value="21" min="1">
        </div>
        <div class="controls">
          <input type="text" id="ftp-user" placeholder="User (e.g., iit_ropar)">
        </div>
        <div class="controls">
          <input type="password" id="ftp-password" placeholder="Password">
        </div>
        <div class="controls">
          <button onclick="setFTPConfig()"><i class="fas fa-save"></i> Set Config</button>
          <button onclick="getFTPConfig()"><i class="fas fa-eye"></i> Get FTP Config</button>
        </div>
        <div class="controls">
          <input type="text" id="upload-filename" placeholder="Filename (e.g., data1.json)">
          <button onclick="uploadFile()"><i class="fas fa-file-upload"></i> Upload File</button>
=======
          <input type="text" id="ftp-host" placeholder="Host (e.g., 13.126.194.224)" class="input-field">
          <button onclick="setFTPHost()" class="action-button"><i class="fas fa-link"></i> Set Host</button>
        </div>
        <div class="controls">
          <input type="text" id="ftp-user" placeholder="User (e.g., iit_ropar)" class="input-field">
          <button onclick="setFTPUser()" class="action-button"><i class="fas fa-user"></i> Set User</button>
        </div>
        <div class="controls">
          <input type="password" id="ftp-password" placeholder="Password" class="input-field">
          <button onclick="setFTPPassword()" class="action-button"><i class="fas fa-key"></i> Set Password</button>
        </div>
        <div class="controls">
          <button onclick="getFTPConfig()" class="action-button full-width"><i class="fas fa-eye"></i> Get FTP Config</button>
        </div>
        <div class="controls">
          <input type="text" id="upload-filename" placeholder="Filename (e.g., data1.json)" class="input-field">
          <button onclick="uploadFile()" class="action-button full-width"><i class="fas fa-file-upload"></i> Upload File (FTP only)</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
        </div>
      </section>

      <section class="control-section" id="mqtt-section" style="display: none;">
        <h3><i class="fas fa-comments"></i> MQTT Configuration</h3>
        <div class="controls">
<<<<<<< HEAD
          <input type="text" id="mqtt-broker" placeholder="Broker (e.g., a3qvnhplljfvjr-ats.iot.us-east-1.amazonaws.com)">
        </div>
        <div class="controls">
          <input type="number" id="mqtt-port" placeholder="Port (default 1883, or 8883 for TLS)" value="1883" min="1">
        </div>
        <div class="controls">
          <input type="text" id="mqtt-user" placeholder="User">
        </div>
        <div class="controls">
          <input type="password" id="mqtt-password" placeholder="Password">
        </div>
        <div class="controls">
          <label for="mqtt-ssl">SSL/TLS Enabled:</label>
          <select id="mqtt-ssl" onchange="toggleCertUploadAndPort()">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>
        <div id="cert-section" style="display: none;">
          <div class="controls">
            <label>Device Certificate:</label>
            <input type="text" id="mqtt-ca-cert-path" placeholder="Path to certificate">
            <button onclick="browseCACert()"><i class="fas fa-folder-open"></i> Browse</button>
          </div>
          <div class="controls">
            <label>Private Key:</label>
            <input type="text" id="mqtt-client-key-path" placeholder="Path to private key">
            <button onclick="browseClientKey()"><i class="fas fa-folder-open"></i> Browse</button>
          </div>
        </div>
        <div class="controls">
          <button onclick="setMQTTConfig()"><i class="fas fa-save"></i> Set Config</button>
          <button onclick="getMQTTConfig()"><i class="fas fa-eye"></i> Get MQTT Config</button>
          <button onclick="uploadCertificates()" id="cert-upload-button" style="display: none;"><i class="fas fa-upload"></i> Upload Certificates</button>
=======
          <input type="text" id="mqtt-broker" placeholder="Broker (e.g., broker.hivemq.com)" class="input-field">
          <button onclick="setMQTTBroker()" class="action-button"><i class="fas fa-link"></i> Set Broker</button>
        </div>
        <div class="controls">
          <input type="text" id="mqtt-user" placeholder="User" class="input-field">
          <button onclick="setMQTTUser()" class="action-button"><i class="fas fa-user"></i> Set User</button>
        </div>
        <div class="controls">
          <input type="password" id="mqtt-password" placeholder="Password" class="input-field">
          <button onclick="setMQTTPassword()" class="action-button"><i class="fas fa-key"></i> Set Password</button>
        </div>
        <div class="controls">
          <button onclick="getMQTTConfig()" class="action-button full-width"><i class="fas fa-eye"></i> Get MQTT Config</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
        </div>
      </section>

      <section class="control-section" id="http-section" style="display: none;">
        <h3><i class="fas fa-globe"></i> HTTP Configuration</h3>
        <div class="controls">
<<<<<<< HEAD
          <input type="text" id="http-url" placeholder="URL (e.g., http://example.com/data)">
        </div>
        <div class="controls">
          <input type="text" id="http-auth-user" placeholder="Auth User">
          <input type="password" id="http-auth-password" placeholder="Auth Password">
        </div>
        <div class="controls">
          <button onclick="setHTTPConfig()"><i class="fas fa-save"></i> Set Config</button>
          <button onclick="getHTTPConfig()"><i class="fas fa-eye"></i> Get HTTP Config</button>
        </div>
      </section>

      <section class="control-section" id="sensors-section">
        <h3><i class="fas fa-microchip"></i> Sensors</h3>
        <div class="controls">
          <select id="sensor-select">
            <option value="RS232">RS232</option>
            <option value="I2C">I2C</option>
            <option value="SPI">SPI</option>
            <option value="RS485">RS485</option>
          </select>
          <button onclick="setSensorType()"><i class="fas fa-save"></i> Set Sensor</button>
        </div>
        <div class="controls">
          <select id="sensor-format">
            <option value="plain">Plain Text</option>
            <option value="hex">Hex</option>
          </select>
          <button onclick="setSensorFormat()"><i class="fas fa-save"></i> Set Format</button>
        </div>
        <div class="controls">
          <button onclick="getSensorConfig()"><i class="fas fa-eye"></i> Get Config</button>
=======
          <input type="text" id="http-url" placeholder="URL (e.g., http://example.com/data)" class="input-field">
          <button onclick="setHTTPURL()" class="action-button"><i class="fas fa-link"></i> Set URL</button>
        </div>
        <div class="controls">
          <input type="text" id="http-auth-user" placeholder="Auth User" class="input-field">
          <input type="password" id="http-auth-password" placeholder="Auth Password" class="input-field">
          <button onclick="setHTTPAuth()" class="action-button"><i class="fas fa-user-shield"></i> Set Auth</button>
        </div>
        <div class="controls">
          <button onclick="getHTTPConfig()" class="action-button full-width"><i class="fas fa-eye"></i> Get HTTP Config</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
        </div>
      </section>
    </div>

    <div class="right-panel">
      <div class="container">
        <h2><i class="fas fa-terminal"></i> Serial Monitor</h2>

        <section class="control-section">
          <h3><i class="fas fa-plug"></i> Serial Port</h3>
          <div class="controls">
<<<<<<< HEAD
            <button onclick="listPorts()"><i class="fas fa-list"></i> List Ports</button>
            <select id="ports"></select>
            <select id="baud-rate">
              <option value="9600">9600</option>
              <option value="19200">19200</option>
              <option value="38400">38400</option>
              <option value="57600">57600</option>
              <option value="115200" selected>115200</option>
              <option value="230400">230400</option>
            </select>
            <button onclick="connectPort()"><i class="fas fa-play"></i> Connect</button>
            <button onclick="disconnectPort()"><i class="fas fa-stop"></i> Disconnect</button>
=======
            <button onclick="listPorts()" class="action-button"><i class="fas fa-list"></i> List Ports</button>
            <select id="ports" class="input-field"></select>
            <button onclick="connectPort()" class="action-button"><i class="fas fa-play"></i> Connect</button>
            <button onclick="disconnectPort()" class="action-button"><i class="fas fa-stop"></i> Disconnect</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
          </div>
        </section>

        <section class="control-section">
          <h3><i class="fas fa-clock"></i> Interval Configuration</h3>
          <div class="controls">
<<<<<<< HEAD
            <input type="number" id="interval" placeholder="Interval (seconds)" min="1">
            <button onclick="setInterval()"><i class="fas fa-save"></i> Set Interval</button>
            <button onclick="getInterval()"><i class="fas fa-eye"></i> Get Interval</button>
=======
            <input type="number" id="interval" placeholder="Interval (seconds)" min="1" class="input-field">
            <button onclick="setInterval()" class="action-button"><i class="fas fa-save"></i> Set Interval</button>
            <button onclick="getInterval()" class="action-button"><i class="fas fa-eye"></i> Get Interval</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
          </div>
        </section>

        <section class="control-section">
          <h3><i class="fas fa-lightbulb"></i> LED Controls</h3>
          <div class="controls">
<<<<<<< HEAD
            <button id="led-toggle-button" onclick="toggleLED()">
              <i class="fas fa-toggle-off"></i> Turn LED On
            </button>
=======
            <button id="led-on" onclick="sendCommand('LED_ON')" class="action-button"><i class="fas fa-toggle-on"></i> LED ON</button>
            <button id="led-off" onclick="sendCommand('LED_OFF')" class="action-button"><i class="fas fa-toggle-off"></i> LED OFF</button>
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
          </div>
        </section>

        <section class="control-section">
          <h3><i class="fas fa-file-alt"></i> UART Logs</h3>
<<<<<<< HEAD
          <div class="controls">
            <button onclick="clearOutput()"><i class="fas fa-trash"></i> Clear Logs</button>
          </div>
=======
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
          <div id="output"></div>
        </section>
      </div>
    </div>
  </div>

  <footer>
    <p><i class="fas fa-copyright"></i> Serial Monitor App © 2025</p>
  </footer>

  <script src="renderer.js"></script>
  <script>
<<<<<<< HEAD
    let isLedOn = false;

    function toggleLED() {
      isLedOn = !isLedOn;
      const button = document.getElementById('led-toggle-button');
      const icon = button.querySelector('i');
      if (isLedOn) {
        sendCommand('LED_ON');
        button.innerHTML = '<i class="fas fa-toggle-on"></i> Turn LED Off';
      } else {
        sendCommand('LED_OFF');
        button.innerHTML = '<i class="fas fa-toggle-off"></i> Turn LED On';
      }
    }

=======
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      const icon = document.querySelector('.theme-toggle i');
      icon.className = document.body.classList.contains('dark-mode') ? 'fas fa-sun' : 'fas fa-moon';
    }

<<<<<<< HEAD
=======
    // Load saved theme
>>>>>>> 25a00f69ef664f70abfda3cd8ca54dfac9077c34
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      document.querySelector('.theme-toggle i').className = 'fas fa-sun';
    }
  </script>
</body>
</html>